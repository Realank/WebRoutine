(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e,t,a){e.exports=a(514)},246:function(e,t,a){},393:function(e,t,a){},514:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(8),r=a.n(o),l=(a(246),a(247),a(104)),s=(a(249),a(139)),c=a(63),u=a(35),p=a(36),h=a(40),d=a(37),m=a(41),f=(a(250),a(49)),v=(a(252),a(12)),g=(a(515),a(237).a.Dragger),b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={fileList:[],uploading:!1},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"handleUpload",value:function(){var e=this;this.state.fileList;this.setState({uploading:!0}),setTimeout(function(){e.setState({fileList:[],uploading:!1})},2e3)}},{key:"render",value:function(){var e=this,t=this.state,a=(t.uploading,{onRemove:function(t){e.setState(function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(t){return console.log("select file "+t.type),"application/json"===t.type&&(e.props.onSelectFile&&e.props.onSelectFile(t),e.setState(function(e){return{fileList:[t]}})),!1},fileList:t.fileList});return i.a.createElement("div",null,i.a.createElement(g,a,i.a.createElement("p",{className:"ant-upload-drag-icon"},i.a.createElement(v.a,{type:"inbox"})),i.a.createElement("p",{className:"ant-upload-text"},"\u9009\u62e9\u8def\u5f84JSON\u6587\u4ef6\u4e0a\u4f20")))}}]),t}(n.Component),E=(a(393),a(394),a(238)),k=a(102),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).mapPlugins=["Scale","ToolBar"],a.state={showPin:!0,mapIns:null,zoomLevel:0},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"renderMarkerLayout",value:function(e){e.position.longitude,e.position.latitude;return i.a.createElement("div",{style:{background:"url('http://icons.iconarchive.com/icons/icons-land/vista-map-markers/16/Map-Marker-Ball-Azure-icon.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"20px",height:"40px",color:"#000",textAlign:"center",lineHeight:"40px",opacity:.6}},e.index)}},{key:"onPinSwitchChange",value:function(e){this.setState(Object(c.a)({},this.state,{showPin:e}))}},{key:"render",value:function(){var e=this;console.log("render map ");var t={created:function(t){console.log(t),e.setState(Object(c.a)({},e.state,{mapIns:t,zoomLevel:t.getZoom()}))},zoomend:function(){e.setState(Object(c.a)({},e.state,{zoomLevel:e.state.mapIns.getZoom()}))}};return i.a.createElement("div",null,i.a.createElement("div",{style:{marginBottom:"10px"}},i.a.createElement(E.a,{checked:this.state.showPin,onChange:function(t){return e.onPinSwitchChange(t)}})," \u653e\u5927\u65f6\u663e\u793a\u5750\u6807\u70b9"),i.a.createElement("div",{style:{width:"95%",height:"800px"}},i.a.createElement(k.Map,{amapkey:"0845071c891fcc8121b0afa0a26035e2",plugins:this.mapPlugins,center:this.props.path?this.props.path[0]:null,zoom:19,zooms:[3,20],expandZoomRange:!0,events:t},i.a.createElement(k.Polyline,{path:this.props.path,visible:!0,style:{strokeColor:"red",strokeWeight:"10",strokeOpacity:.7,showDir:!0}}),i.a.createElement(k.Markers,{markers:this.props.path.map(function(e,t){return{position:e,index:t}}),render:this.renderMarkerLayout,visible:this.state.showPin&&this.state.zoomLevel>15}))))}}]),t}(n.Component),O=a(236),j=a.n(O),w=a(21),x=a.n(w),S=(a(478),a(498),a(509),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e={title:{text:this.props.title},tooltip:{},xAxis:{data:this.props.nodes.map(function(e,t){return""+t})},yAxis:{min:"dataMin"},series:[{type:"line",data:this.props.nodes}]};return i.a.createElement(j.a,{echarts:x.a,option:e})}}]),t}(n.Component)),L=f.a.Header,z=f.a.Footer,C=f.a.Sider,P=f.a.Content,M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={path:[]},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"handleRead",value:function(e){var t=this,a=new FileReader;a.readAsText(e),a.onload=function(){var e=JSON.parse(a.result);console.log(e),t.setState(Object(c.a)({},t.state,{path:e.data.map(function(e){return{latitude:e.lat,longitude:e.lon,altitude:e.altitude,speed:e.speed,time:e.time}})}))}}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(f.a,null,i.a.createElement(L,{style:{color:"white",fontSize:"25px"}},"\u8def\u5f84\u5c55\u793a"),i.a.createElement(f.a,null,i.a.createElement(C,{style:{backgroundColor:"#5597d9"}},i.a.createElement(b,{onSelectFile:this.handleRead.bind(this)})),i.a.createElement(P,{style:{padding:"10px"}},i.a.createElement(l.a,null,i.a.createElement(s.a,{span:12}," ",i.a.createElement(y,{path:this.state.path})),i.a.createElement(s.a,{span:12},i.a.createElement(l.a,null,i.a.createElement(S,{nodes:this.state.path.map(function(e){return e.altitude}),title:"\u9ad8\u5ea6"})),i.a.createElement(l.a,null,i.a.createElement(S,{nodes:this.state.path.map(function(e){return e.speed}),title:"\u901f\u5ea6"})))))),i.a.createElement(z,null,"Realank")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[241,1,2]]]);
//# sourceMappingURL=main.a13c3932.chunk.js.map